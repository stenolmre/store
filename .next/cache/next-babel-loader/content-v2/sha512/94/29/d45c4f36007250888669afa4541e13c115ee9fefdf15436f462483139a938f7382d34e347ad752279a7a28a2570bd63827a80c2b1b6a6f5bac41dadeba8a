{"ast":null,"code":"import _regeneratorRuntime from \"/Users/stenolmre/Desktop/learn/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/stenolmre/Desktop/learn/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { ADD_COUPON, GET_COUPONS, DELETE_COUPON, COUPON_ERROR } from '@/actions/types';\nexport var getCoupons = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n    var _yield$axios$get, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.get('/api/coupon/_get');\n\n          case 3:\n            _yield$axios$get = _context.sent;\n            data = _yield$axios$get.data;\n            dispatch({\n              type: GET_COUPONS,\n              payload: data\n            });\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            dispatch({\n              type: COUPON_ERROR,\n              payload: _context.t0.response\n            });\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n\n  return function getCoupons(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var addCoupon = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch, data) {\n    var config, body, _yield$axios$post, _data;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            config = {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            body = JSON.stringify(data);\n            _context2.prev = 2;\n            _context2.next = 5;\n            return axios.post('/api/coupon/add', body, config);\n\n          case 5:\n            _yield$axios$post = _context2.sent;\n            _data = _yield$axios$post.data;\n            dispatch({\n              type: ADD_COUPON,\n              payload: _data\n            });\n            _context2.next = 14;\n            break;\n\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](2);\n            console.log(_context2.t0.response);\n            dispatch({\n              type: COUPON_ERROR,\n              payload: _context2.t0.response\n            });\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[2, 10]]);\n  }));\n\n  return function addCoupon(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var deleteCoupon = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch, couponId) {\n    var _yield$axios$delete, data;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return axios[\"delete\"](\"/api/coupon/delete?id=\".concat(couponId));\n\n          case 3:\n            _yield$axios$delete = _context3.sent;\n            data = _yield$axios$delete.data;\n            dispatch({\n              type: DELETE_COUPON,\n              payload: data\n            });\n            _context3.next = 12;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0.response);\n            dispatch({\n              type: COUPON_ERROR,\n              payload: _context3.t0.response\n            });\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 8]]);\n  }));\n\n  return function deleteCoupon(_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/Users/stenolmre/Desktop/learn/actions/coupon.js"],"names":["axios","ADD_COUPON","GET_COUPONS","DELETE_COUPON","COUPON_ERROR","getCoupons","dispatch","get","data","type","payload","response","addCoupon","config","headers","body","JSON","stringify","post","console","log","deleteCoupon","couponId"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,aAAlC,EAAiDC,YAAjD,QAAqE,iBAArE;AAEA,OAAO,IAAMC,UAAU;AAAA,sEAAG,iBAAOC,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAECN,KAAK,CAACO,GAAN,CAAU,kBAAV,CAFD;;AAAA;AAAA;AAEdC,YAAAA,IAFc,oBAEdA,IAFc;AAItBF,YAAAA,QAAQ,CAAC;AACPG,cAAAA,IAAI,EAAEP,WADC;AAEPQ,cAAAA,OAAO,EAAEF;AAFF,aAAD,CAAR;AAJsB;AAAA;;AAAA;AAAA;AAAA;AAStBF,YAAAA,QAAQ,CAAC;AACPG,cAAAA,IAAI,EAAEL,YADC;AAEPM,cAAAA,OAAO,EAAE,YAAIC;AAFN,aAAD,CAAR;;AATsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAVN,UAAU;AAAA;AAAA;AAAA,GAAhB;AAgBP,OAAO,IAAMO,SAAS;AAAA,uEAAG,kBAAON,QAAP,EAAiBE,IAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACjBK,YAAAA,MADiB,GACR;AAAEC,cAAAA,OAAO,EAAE;AAAE,gCAAgB;AAAlB;AAAX,aADQ;AAGjBC,YAAAA,IAHiB,GAGVC,IAAI,CAACC,SAAL,CAAeT,IAAf,CAHU;AAAA;AAAA;AAAA,mBAMER,KAAK,CAACkB,IAAN,CAAW,iBAAX,EAA8BH,IAA9B,EAAoCF,MAApC,CANF;;AAAA;AAAA;AAMbL,YAAAA,KANa,qBAMbA,IANa;AAQrBF,YAAAA,QAAQ,CAAC;AACPG,cAAAA,IAAI,EAAER,UADC;AAEPS,cAAAA,OAAO,EAAEF;AAFF,aAAD,CAAR;AARqB;AAAA;;AAAA;AAAA;AAAA;AAarBW,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAIT,QAAhB;AACAL,YAAAA,QAAQ,CAAC;AACPG,cAAAA,IAAI,EAAEL,YADC;AAEPM,cAAAA,OAAO,EAAE,aAAIC;AAFN,aAAD,CAAR;;AAdqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAATC,SAAS;AAAA;AAAA;AAAA,GAAf;AAqBP,OAAO,IAAMS,YAAY;AAAA,uEAAG,kBAAOf,QAAP,EAAiBgB,QAAjB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEDtB,KAAK,UAAL,iCAAsCsB,QAAtC,EAFC;;AAAA;AAAA;AAEhBd,YAAAA,IAFgB,uBAEhBA,IAFgB;AAIxBF,YAAAA,QAAQ,CAAC;AACPG,cAAAA,IAAI,EAAEN,aADC;AAEPO,cAAAA,OAAO,EAAEF;AAFF,aAAD,CAAR;AAJwB;AAAA;;AAAA;AAAA;AAAA;AASxBW,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAIT,QAAhB;AACAL,YAAAA,QAAQ,CAAC;AACPG,cAAAA,IAAI,EAAEL,YADC;AAEPM,cAAAA,OAAO,EAAE,aAAIC;AAFN,aAAD,CAAR;;AAVwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZU,YAAY;AAAA;AAAA;AAAA,GAAlB","sourcesContent":["import axios from 'axios'\n\nimport { ADD_COUPON, GET_COUPONS, DELETE_COUPON, COUPON_ERROR } from '@/actions/types'\n\nexport const getCoupons = async (dispatch) => {\n  try {\n    const { data } = await axios.get('/api/coupon/_get')\n\n    dispatch({\n      type: GET_COUPONS,\n      payload: data\n    })\n  } catch (err) {\n    dispatch({\n      type: COUPON_ERROR,\n      payload: err.response\n    })\n  }\n}\n\nexport const addCoupon = async (dispatch, data) => {\n  const config = { headers: { 'Content-Type': 'application/json' } }\n\n  const body = JSON.stringify(data)\n\n  try {\n    const { data } = await axios.post('/api/coupon/add', body, config)\n\n    dispatch({\n      type: ADD_COUPON,\n      payload: data\n    })\n  } catch (err) {\n    console.log(err.response);\n    dispatch({\n      type: COUPON_ERROR,\n      payload: err.response\n    })\n  }\n}\n\nexport const deleteCoupon = async (dispatch, couponId) => {\n  try {\n    const { data } = await axios.delete(`/api/coupon/delete?id=${couponId}`)\n\n    dispatch({\n      type: DELETE_COUPON,\n      payload: data\n    })\n  } catch (err) {\n    console.log(err.response);\n    dispatch({\n      type: COUPON_ERROR,\n      payload: err.response\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}