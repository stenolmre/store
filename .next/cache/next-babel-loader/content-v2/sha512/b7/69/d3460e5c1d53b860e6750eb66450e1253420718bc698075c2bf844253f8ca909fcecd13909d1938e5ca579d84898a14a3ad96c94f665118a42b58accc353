{"ast":null,"code":"import connectDB from '@/utils/connectDB';\nimport Product from '@/models/product';\nconnectDB();\nexport default async function (req, res) {\n  const {\n    image,\n    name,\n    price,\n    countInStock,\n    description,\n    brand,\n    category\n  } = req.body;\n  if (!image || !name || !price || !countInStock || !description) return res.status(404).json({\n    msg: 'Please fill all fields with correct information.'\n  });\n\n  try {\n    const product = new Product(req.body);\n    await product.save();\n    const products = await Product.find();\n    return res.json({\n      product: product,\n      products: products\n    });\n  } catch (err) {\n    res.status(500).json({\n      msg: 'Server Error',\n      error: err.message\n    });\n  }\n}","map":{"version":3,"sources":["/Users/stenolmre/Desktop/learn/pages/api/product/add.js"],"names":["connectDB","Product","req","res","image","name","price","countInStock","description","brand","category","body","status","json","msg","product","save","products","find","err","error","message"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,mBAAtB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEAD,SAAS;AAET,eAAe,gBAAgBE,GAAhB,EAAqBC,GAArB,EAA0B;AACvC,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,IAAT;AAAeC,IAAAA,KAAf;AAAsBC,IAAAA,YAAtB;AAAoCC,IAAAA,WAApC;AAAiDC,IAAAA,KAAjD;AAAwDC,IAAAA;AAAxD,MAAqER,GAAG,CAACS,IAA/E;AAEA,MAAI,CAACP,KAAD,IAAU,CAACC,IAAX,IAAmB,CAACC,KAApB,IAA6B,CAACC,YAA9B,IAA8C,CAACC,WAAnD,EAAgE,OAAOL,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,GAAG,EAAE;AAAP,GAArB,CAAP;;AAEhE,MAAI;AACF,UAAMC,OAAO,GAAG,IAAId,OAAJ,CAAYC,GAAG,CAACS,IAAhB,CAAhB;AAEA,UAAMI,OAAO,CAACC,IAAR,EAAN;AAEA,UAAMC,QAAQ,GAAG,MAAMhB,OAAO,CAACiB,IAAR,EAAvB;AAEA,WAAOf,GAAG,CAACU,IAAJ,CAAS;AACdE,MAAAA,OAAO,EAAEA,OADK;AAEdE,MAAAA,QAAQ,EAAEA;AAFI,KAAT,CAAP;AAID,GAXD,CAWE,OAAOE,GAAP,EAAY;AACZhB,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,GAAG,EAAE,cAAP;AAAuBM,MAAAA,KAAK,EAAED,GAAG,CAACE;AAAlC,KAArB;AACD;AACF","sourcesContent":["import connectDB from '@/utils/connectDB'\nimport Product from '@/models/product'\n\nconnectDB()\n\nexport default async function (req, res) {\n  const { image, name, price, countInStock, description, brand, category } = req.body\n\n  if (!image || !name || !price || !countInStock || !description) return res.status(404).json({ msg: 'Please fill all fields with correct information.' })\n\n  try {\n    const product = new Product(req.body)\n\n    await product.save()\n\n    const products = await Product.find()\n\n    return res.json({\n      product: product,\n      products: products\n    })\n  } catch (err) {\n    res.status(500).json({ msg: 'Server Error', error: err.message })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}