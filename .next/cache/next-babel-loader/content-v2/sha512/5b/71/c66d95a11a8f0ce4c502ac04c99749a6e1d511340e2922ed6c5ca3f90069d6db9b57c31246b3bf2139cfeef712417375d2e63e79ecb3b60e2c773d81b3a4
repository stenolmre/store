{"ast":null,"code":"import _regeneratorRuntime from \"/Users/stenolmre/Desktop/learn/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/stenolmre/Desktop/learn/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { ADD_PRODUCT, GET_PRODUCTS, GET_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, PRODUCT_ERROR } from '@/actions/types';\nexport var getProducts = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n    var _yield$axios$get, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.get('/api/product/_get');\n\n          case 3:\n            _yield$axios$get = _context.sent;\n            data = _yield$axios$get.data;\n            dispatch({\n              type: GET_PRODUCTS,\n              payload: data\n            });\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            dispatch({\n              type: PRODUCT_ERROR,\n              payload: _context.t0\n            });\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n\n  return function getProducts(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var getProduct = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch, id) {\n    var _yield$axios$get2, data;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return axios.get(\"/api/product/get?id=\".concat(id));\n\n          case 3:\n            _yield$axios$get2 = _context2.sent;\n            data = _yield$axios$get2.data;\n            dispatch({\n              type: GET_PRODUCT,\n              payload: data\n            });\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.prev = 8;\n            _context2.t0 = _context2[\"catch\"](0);\n            dispatch({\n              type: PRODUCT_ERROR,\n              payload: _context2.t0\n            });\n\n          case 11:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 8]]);\n  }));\n\n  return function getProduct(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var addProduct = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch, data) {\n    var config, body, _yield$axios$post, _data;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            config = {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            body = JSON.stringify(data);\n            _context3.prev = 2;\n            _context3.next = 5;\n            return axios.post('/api/product/add', body, config);\n\n          case 5:\n            _yield$axios$post = _context3.sent;\n            _data = _yield$axios$post.data;\n            dispatch({\n              type: ADD_PRODUCT,\n              payload: _data\n            });\n            _context3.next = 13;\n            break;\n\n          case 10:\n            _context3.prev = 10;\n            _context3.t0 = _context3[\"catch\"](2);\n            dispatch({\n              type: PRODUCT_ERROR,\n              payload: _context3.t0.response\n            });\n\n          case 13:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[2, 10]]);\n  }));\n\n  return function addProduct(_x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var updateProduct = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch, id, data) {\n    var config, body, _yield$axios$put, _data2;\n\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            config = {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            };\n            body = JSON.stringify(data);\n            _context4.prev = 2;\n            _context4.next = 5;\n            return axios.put(\"/api/product/update?id=\".concat(id), body, config);\n\n          case 5:\n            _yield$axios$put = _context4.sent;\n            _data2 = _yield$axios$put.data;\n            dispatch({\n              type: UPDATE_PRODUCT,\n              payload: _data2\n            });\n            _context4.next = 14;\n            break;\n\n          case 10:\n            _context4.prev = 10;\n            _context4.t0 = _context4[\"catch\"](2);\n            dispatch({\n              type: PRODUCT_ERROR,\n              payload: _context4.t0.response.data\n            });\n            console.log(_context4.t0.response.data);\n\n          case 14:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[2, 10]]);\n  }));\n\n  return function updateProduct(_x6, _x7, _x8) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var deleteProduct = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch, id) {\n    var _yield$axios$delete, data;\n\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return axios[\"delete\"](\"/api/product/delete?id=\".concat(id));\n\n          case 3:\n            _yield$axios$delete = _context5.sent;\n            data = _yield$axios$delete.data;\n            dispatch({\n              type: DELETE_PRODUCT,\n              payload: data\n            });\n            _context5.next = 11;\n            break;\n\n          case 8:\n            _context5.prev = 8;\n            _context5.t0 = _context5[\"catch\"](0);\n            dispatch({\n              type: PRODUCT_ERROR,\n              payload: _context5.t0\n            });\n\n          case 11:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[0, 8]]);\n  }));\n\n  return function deleteProduct(_x9, _x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/Users/stenolmre/Desktop/learn/actions/product.js"],"names":["axios","ADD_PRODUCT","GET_PRODUCTS","GET_PRODUCT","UPDATE_PRODUCT","DELETE_PRODUCT","PRODUCT_ERROR","getProducts","dispatch","get","data","type","payload","getProduct","id","addProduct","config","headers","body","JSON","stringify","post","response","updateProduct","put","console","log","deleteProduct"],"mappings":"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","sourcesContent":["import axios from 'axios'\n\nimport { ADD_PRODUCT, GET_PRODUCTS, GET_PRODUCT, UPDATE_PRODUCT, DELETE_PRODUCT, PRODUCT_ERROR } from '@/actions/types'\n\nexport const getProducts = async (dispatch) => {\n  try {\n    const { data } = await axios.get('/api/product/_get')\n\n    dispatch({\n      type: GET_PRODUCTS,\n      payload: data\n    })\n  } catch (err) {\n    dispatch({\n      type: PRODUCT_ERROR,\n      payload: err\n    })\n  }\n}\n\nexport const getProduct = async (dispatch, id) => {\n  try {\n    const { data } = await axios.get(`/api/product/get?id=${id}`)\n\n    dispatch({\n      type: GET_PRODUCT,\n      payload: data\n    })\n  } catch (err) {\n    dispatch({\n      type: PRODUCT_ERROR,\n      payload: err\n    })\n  }\n}\n\nexport const addProduct = async (dispatch, data) => {\n  const config = { headers: { 'Content-Type': 'application/json' } }\n\n  const body = JSON.stringify(data)\n\n  try {\n    const { data } = await axios.post('/api/product/add', body, config)\n\n    dispatch({\n      type: ADD_PRODUCT,\n      payload: data\n    })\n  } catch (err) {\n    dispatch({\n      type: PRODUCT_ERROR,\n      payload: err.response\n    })\n  }\n}\n\nexport const updateProduct = async (dispatch, id, data) => {\n  const config = { headers: { 'Content-Type': 'application/json' } }\n\n  const body = JSON.stringify(data)\n\n  try {\n    const { data } = await axios.put(`/api/product/update?id=${id}`, body, config)\n\n    dispatch({\n      type: UPDATE_PRODUCT,\n      payload: data\n    })\n  } catch (err) {\n    dispatch({\n      type: PRODUCT_ERROR,\n      payload: err.response.data\n    })\n\n    console.log(err.response.data);\n  }\n}\n\nexport const deleteProduct = async (dispatch, id) => {\n  try {\n    const { data } = await axios.delete(`/api/product/delete?id=${id}`)\n\n    dispatch({\n      type: DELETE_PRODUCT,\n      payload: data\n    })\n  } catch (err) {\n    dispatch({\n      type: PRODUCT_ERROR,\n      payload: err\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}