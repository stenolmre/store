{"ast":null,"code":"import axios from 'axios';\nimport { ADD_COUPON, GET_COUPONS, DELETE_COUPON, COUPON_ERROR } from '@/actions/types';\nexport const getCoupons = async dispatch => {\n  try {\n    const {\n      data\n    } = await axios.get('/api/coupon/_get');\n    dispatch({\n      type: GET_COUPONS,\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: COUPON_ERROR,\n      payload: err.response\n    });\n  }\n};\nexport const addCoupon = async (dispatch, data) => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify(data);\n\n  try {\n    const {\n      data\n    } = await axios.post('/api/coupon/add', body, config);\n    dispatch({\n      type: ADD_COUPON,\n      payload: data\n    });\n  } catch (err) {\n    console.log(err.response);\n    dispatch({\n      type: COUPON_ERROR,\n      payload: err.response\n    });\n  }\n};\nexport const deleteCoupon = async (dispatch, couponId) => {\n  try {\n    const {\n      data\n    } = await axios.delete(`/api/coupon/delete?id=${couponId}`);\n    dispatch({\n      type: DELETE_COUPON,\n      payload: data\n    });\n  } catch (err) {\n    console.log(err.response);\n    dispatch({\n      type: COUPON_ERROR,\n      payload: err.response\n    });\n  }\n};","map":{"version":3,"sources":["/Users/stenolmre/Desktop/learn/actions/coupon.js"],"names":["axios","ADD_COUPON","GET_COUPONS","DELETE_COUPON","COUPON_ERROR","getCoupons","dispatch","data","get","type","payload","err","response","addCoupon","config","headers","body","JSON","stringify","post","console","log","deleteCoupon","couponId","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,aAAlC,EAAiDC,YAAjD,QAAqE,iBAArE;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAOC,QAAP,IAAoB;AAC5C,MAAI;AACF,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACQ,GAAN,CAAU,kBAAV,CAAvB;AAEAF,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEP,WADC;AAEPQ,MAAAA,OAAO,EAAEH;AAFF,KAAD,CAAR;AAID,GAPD,CAOE,OAAOI,GAAP,EAAY;AACZL,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEL,YADC;AAEPM,MAAAA,OAAO,EAAEC,GAAG,CAACC;AAFN,KAAD,CAAR;AAID;AACF,CAdM;AAgBP,OAAO,MAAMC,SAAS,GAAG,OAAOP,QAAP,EAAiBC,IAAjB,KAA0B;AACjD,QAAMO,MAAM,GAAG;AAAEC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB;AAAX,GAAf;AAEA,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeX,IAAf,CAAb;;AAEA,MAAI;AACF,UAAM;AAAEA,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACmB,IAAN,CAAW,iBAAX,EAA8BH,IAA9B,EAAoCF,MAApC,CAAvB;AAEAR,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAER,UADC;AAEPS,MAAAA,OAAO,EAAEH;AAFF,KAAD,CAAR;AAID,GAPD,CAOE,OAAOI,GAAP,EAAY;AACZS,IAAAA,OAAO,CAACC,GAAR,CAAYV,GAAG,CAACC,QAAhB;AACAN,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEL,YADC;AAEPM,MAAAA,OAAO,EAAEC,GAAG,CAACC;AAFN,KAAD,CAAR;AAID;AACF,CAnBM;AAqBP,OAAO,MAAMU,YAAY,GAAG,OAAOhB,QAAP,EAAiBiB,QAAjB,KAA8B;AACxD,MAAI;AACF,UAAM;AAAEhB,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACwB,MAAN,CAAc,yBAAwBD,QAAS,EAA/C,CAAvB;AAEAjB,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEN,aADC;AAEPO,MAAAA,OAAO,EAAEH;AAFF,KAAD,CAAR;AAID,GAPD,CAOE,OAAOI,GAAP,EAAY;AACZS,IAAAA,OAAO,CAACC,GAAR,CAAYV,GAAG,CAACC,QAAhB;AACAN,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEL,YADC;AAEPM,MAAAA,OAAO,EAAEC,GAAG,CAACC;AAFN,KAAD,CAAR;AAID;AACF,CAfM","sourcesContent":["import axios from 'axios'\n\nimport { ADD_COUPON, GET_COUPONS, DELETE_COUPON, COUPON_ERROR } from '@/actions/types'\n\nexport const getCoupons = async (dispatch) => {\n  try {\n    const { data } = await axios.get('/api/coupon/_get')\n\n    dispatch({\n      type: GET_COUPONS,\n      payload: data\n    })\n  } catch (err) {\n    dispatch({\n      type: COUPON_ERROR,\n      payload: err.response\n    })\n  }\n}\n\nexport const addCoupon = async (dispatch, data) => {\n  const config = { headers: { 'Content-Type': 'application/json' } }\n\n  const body = JSON.stringify(data)\n\n  try {\n    const { data } = await axios.post('/api/coupon/add', body, config)\n\n    dispatch({\n      type: ADD_COUPON,\n      payload: data\n    })\n  } catch (err) {\n    console.log(err.response);\n    dispatch({\n      type: COUPON_ERROR,\n      payload: err.response\n    })\n  }\n}\n\nexport const deleteCoupon = async (dispatch, couponId) => {\n  try {\n    const { data } = await axios.delete(`/api/coupon/delete?id=${couponId}`)\n\n    dispatch({\n      type: DELETE_COUPON,\n      payload: data\n    })\n  } catch (err) {\n    console.log(err.response);\n    dispatch({\n      type: COUPON_ERROR,\n      payload: err.response\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}